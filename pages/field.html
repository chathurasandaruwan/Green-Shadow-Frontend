<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Green Shadow</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <style>

    </style>
</head>
<body>
<nav class="navbar navbar-expand-custom navbar-mainbg">
    <a class="navbar-brand navbar-logo" href="#">Navbar</a>
    <button class="navbar-toggler" type="button" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars text-white"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
            <div class="hori-selector">
                <div class="left"></div>
                <div class="right"></div>
            </div>
            <li class="nav-item ">
                <a class="nav-link" href="../index.html"><i class="fas fa-tachometer-alt"></i>Dashboard</a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="crop.html"><i class="fa fa-crop" aria-hidden="true"></i> Crop Manage</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="field.html"><i class="far fa-clone"></i>Field Manage</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="staff.html"><i class="fa fa-users" aria-hidden="true"></i>Staff Manage</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="vehicle.html"><i class="fa fa-car" aria-hidden="true"></i>Vehicle Manage</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="log.html"><i class="far fa-calendar-alt"></i>Log Manage</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="equipment.html"><i class="far fa-copy"></i>Equipment Manage</a>
            </li>
        </ul>
    </div>
</nav>
<h1>field page</h1>
<footer>
    <p>Â© 2023 GreenShadow. All rights reserved.</p>
</footer>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // ----------navbar-active-animation-----------
    /*function test() {
        var tabsNewAnim = $("#navbarSupportedContent");
        var selectorNewAnim = $("#navbarSupportedContent").find("li").length;
        var activeItemNewAnim = tabsNewAnim.find(".active");
        var activeWidthNewAnimHeight = activeItemNewAnim.innerHeight();
        var activeWidthNewAnimWidth = activeItemNewAnim.innerWidth();
        var itemPosNewAnimTop = activeItemNewAnim.position();
        var itemPosNewAnimLeft = activeItemNewAnim.position();
        $(".hori-selector").css({
            top: itemPosNewAnimTop.top + "px",
            left: itemPosNewAnimLeft.left + "px",
            height: activeWidthNewAnimHeight + "px",
            width: activeWidthNewAnimWidth + "px"
        });
        $("#navbarSupportedContent").on("click", "li", function (e) {
            $("#navbarSupportedContent ul li").removeClass("active");
            $(this).addClass("active");
            var activeWidthNewAnimHeight = $(this).innerHeight();
            var activeWidthNewAnimWidth = $(this).innerWidth();
            var itemPosNewAnimTop = $(this).position();
            var itemPosNewAnimLeft = $(this).position();
            $(".hori-selector").css({
                top: itemPosNewAnimTop.top + "px",
                left: itemPosNewAnimLeft.left + "px",
                height: activeWidthNewAnimHeight + "px",
                width: activeWidthNewAnimWidth + "px"
            });
        });
    }
    $(document).ready(function () {
        setTimeout(function () {
            test();
        });
    });
    $(window).on("resize", function () {
        setTimeout(function () {
            test();
        }, 500);
    });
    $(".navbar-toggler").click(function () {
        $(".navbar-collapse").slideToggle(300);
        setTimeout(function () {
            test();
        });
    });

    $(window).on('load', function () {
        // Extract the filename from the current path
        var current = location.pathname.split("/").pop();
        console.log("Current path (filename):", current);

        if (current === "") {
            current = "index.html"; // Default to 'index.html' for the homepage
        }

        // Iterate over each link in the navbar
        $('#navbarSupportedContent ul li a').each(function () {
            var $this = $(this);

            // Compare only the filenames
            if ($this.attr('href') === current) {
                // Add the 'active' class to the parent <li>
                $this.parent().addClass('active');
            } else {
                // Remove 'active' class from non-matching links
                $this.parent().removeClass('active');
            }
        });
    });
*/
    function updateHoriSelector() {
        var tabsNewAnim = $("#navbarSupportedContent");
        var activeItem = tabsNewAnim.find(".active");
        if (activeItem.length) {
            var activeWidth = activeItem.innerWidth();
            var activeHeight = activeItem.innerHeight();
            var itemPos = activeItem.position();
            $(".hori-selector").css({
                top: itemPos.top + "px",
                left: itemPos.left + "px",
                height: activeHeight + "px",
                width: activeWidth + "px",
            });
        }
    }

    function test() {
        updateHoriSelector();
        $("#navbarSupportedContent").on("click", "li", function () {
            $("#navbarSupportedContent ul li").removeClass("active");
            $(this).addClass("active");
            updateHoriSelector();
        });
    }

    $(document).ready(function () {
        test();
    });

    $(window).on("resize", function () {
        updateHoriSelector();
    });

    $(".navbar-toggler").click(function () {
        $(".navbar-collapse").slideToggle(300);
        updateHoriSelector();
    });

    $(window).on("load", function () {
        var current = location.pathname.split("/").pop().toLowerCase();
        if (current === "") current = "index.html";
        $("#navbarSupportedContent ul li a").each(function () {
            var $this = $(this);
            if ($this.attr("href").toLowerCase() === current) {
                $this.parent().addClass("active");
            } else {
                $this.parent().removeClass("active");
            }
        });
        updateHoriSelector();
    });



</script>
</body>
</html>
