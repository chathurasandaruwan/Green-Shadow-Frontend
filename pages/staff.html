<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Green Shadow</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/izitoast/dist/css/iziToast.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <style>
/*        #crudCard{
            height: auto;
            !*margin-top: 40px;
            margin-bottom: 50px;*!
            padding-top: 40px;
            padding-bottom: 50px;
            text-align: center;
        }
        .animatedBg{
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }
        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }
        .custCard {
            width: 100%;
            height: 170px;
            border-radius: 10px;
            color: white;
            display: grid;
            margin-top: 40px;
            cursor: pointer;
            grid-template-rows: 50px 1fr;
        }
        .addCard-desc {
            background: linear-gradient(to bottom, #4389c8, #356e9d);
        }
        .updateCard-desc {
            background: linear-gradient(to bottom, #f1b44d, #d69438);
        }
        .deleteCard-desc {
            background: linear-gradient(to bottom, #f56f6f, #d53d3d);
        }
        .searchCard-desc {
            background: linear-gradient(to bottom, #5cb385, #4b946e);
        }
        .custCard:hover .img-section {
            transform: translateY(1em);
        }
        .card-desc {
            border-radius: 10px;
            padding: 15px;
            position: relative;
            top: -10px;
            display: grid;
            gap: 10px;
        }
        .card-time {
            font-size: 1.7em;
            font-weight: 500;
        }
        .img-section {
            transition: 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            background: hsl(195, 74%, 62%);
        }
        .card-header {
            display: flex;
            align-items: center;
            width: 100%;
        }
        .card-title {
            flex: 1;
            font-weight: bold;
        }

        .custCard svg {
            float: right;
            max-width: 100%;
            max-height: 100%;
        }
        .custCard .recent {
            line-height: 0;
            font-size: 0.8em;
        }

        !*search bar css*!
        .custSearchCardHeader{
            !*background-color: #198754;*!
            !*color: white;*!
            text-align: center;
        }
        #custSearchCardBody{
            margin-top: 0 !important;
            margin-bottom: 40px !important;
            display: flex;
        }
         !*Add new staff model css*!
        .form-wrap-staff{
            background: rgba(255,255,255,1);
            width: 100%;
            padding: 50px;
            margin: 0 auto;
            position: relative;
            -webkit-border-radius: 10px;
            -moz-border-radius: 10px;
            border-radius: 10px;
            -webkit-box-shadow: 0px 0px 40px rgba(0, 0, 0, 0.15);
            -moz-box-shadow: 0px 0px 40px rgba(0, 0, 0, 0.15);
            box-shadow: 0px 0px 40px rgba(0, 0, 0, 0.15);
        }
        .form-wrap-staff:before{
            content: "";
            width: 90%;
            height: calc(100% + 60px);
            left: 0;
            right: 0;
            margin: 0 auto;
            position: absolute;
            top: -30px;
            !*background: #00bcd9;*!
            background: #000000;
            z-index: -1;
            opacity: 0.8;
            -webkit-border-radius: 10px;
            -moz-border-radius: 10px;
            border-radius: 10px;
            -webkit-box-shadow: 0px 0px 40px rgba(0, 0, 0, 0.15);
            -moz-box-shadow: 0px 0px 40px rgba(0, 0, 0, 0.15);
            box-shadow: 0px 0px 40px rgba(0, 0, 0, 0.15);
        }
        .form-group{
            margin-bottom: 25px;
        }
        .form-group > label{
            display: block;
            font-size: 18px;
            color: #000;
        }
        .form-control{
            height: 50px;
            background: #ecf0f4;
            border-color: transparent;
            padding: 0 15px;
            font-size: 16px;
            -webkit-transition: all 0.3s ease-in-out;
            -moz-transition: all 0.3s ease-in-out;
            -o-transition: all 0.3s ease-in-out;
            transition: all 0.3s ease-in-out;
            appearance: auto !important;
            -webkit-appearance: checkbox !important;
        }
        .form-control:focus{
            border-color: #00bcd9;
            -webkit-box-shadow: 0px 0px 20px rgba(0, 0, 0, .1);
            -moz-box-shadow: 0px 0px 20px rgba(0, 0, 0, .1);
            box-shadow: 0px 0px 20px rgba(0, 0, 0, .1);
        }
        #inputAD1{
            width: 20%;
            margin: 10px;
            float: left;
        }
        #inputAD5{
            width: 75%;
            margin: 10px;
        }
        #inputAD2{
            width: 97%;
            margin: 10px;
        }
        #inputAD3{
            width: 75%;
            margin: 10px;
        }
        #inputAD4{
            width: 20%;
            margin: 10px;
            margin-top: 0;
            float: left;
        }

        .btn{
            padding: .500rem .75rem;
            font-size: 18px;
            letter-spacing: 0.050em;
            -webkit-transition: all 0.3s ease-in-out;
            -moz-transition: all 0.3s ease-in-out;
            -o-transition: all 0.3s ease-in-out;
            transition: all 0.3s ease-in-out;
        }

        .btn-primary {
            color: #fff;
            background-color: #00bcd9;
            border-color: #00bcd9;
        }

        .btn-primary:hover {
            color: #00bcd9;
            background-color: #ffffff;
            border-color: #00bcd9;
            -webkit-box-shadow: 0px 0px 20px rgba(0, 0, 0, .1);
            -moz-box-shadow: 0px 0px 20px rgba(0, 0, 0, .1);
            box-shadow: 0px 0px 20px rgba(0, 0, 0, .1);
        }
        .btn-secondary:hover {
            color: #6c757d;
            background-color: #ffffff;
            border-color: #6c757d;
            -webkit-box-shadow: 0px 0px 20px rgba(0, 0, 0, .1);
            -moz-box-shadow: 0px 0px 20px rgba(0, 0, 0, .1);
            box-shadow: 0px 0px 20px rgba(0, 0, 0, .1);
        }

        .btn-warning:hover {
            color: #ffc107;
            background-color: #ffffff;
            border-color: #ffc107;
            -webkit-box-shadow: 0px 0px 20px rgba(0, 0, 0, .1);
            -moz-box-shadow: 0px 0px 20px rgba(0, 0, 0, .1);
            box-shadow: 0px 0px 20px rgba(0, 0, 0, .1);
        }
        .btn-danger:hover {
            color: #dc3545;
            background-color: #ffffff;
            border-color: #dc3545;
            -webkit-box-shadow: 0px 0px 20px rgba(0, 0, 0, .1);
            -moz-box-shadow: 0px 0px 20px rgba(0, 0, 0, .1);
            box-shadow: 0px 0px 20px rgba(0, 0, 0, .1);
        }
        #suggestions {
            max-height: 200px;
            overflow-y: auto;
            position: absolute;
            width: 50%;
            z-index: 1000;
            background: white;
            list-style: none;
            padding: 0;
        }
        #suggestions .list-group-item {
            padding: 0.5rem;
        }
        #suggestions .list-group-item:hover {
            background-color: #f8f9fa;
        }
        !*Start Section Stats*!

        .statistics .data
        {
            background-color: rgba(3, 3, 3, 0.7);
            !*background-color: #5161ce;*!
            color: #B6B5B5;
            min-height: 300px;
            padding: 40px;

        }

        .statistics .stats:hover {color: #FFF}
        .statistics p {font-size: 60px; font-weight: 600; margin-bottom: 0}
        .statistics span {font-size: 16px}



        !*table css*!
        .container {
            padding: 1rem 0rem;
        }
        .table>tbody {
            vertical-align: middle;
        }
        #staffTblCard tr{
            height: 55px;
        }
        @media (max-width: 768px) {
            #staffTblCard{
                overflow-X: scroll;
            }
            .table {
                width: max-content;
            }

        }*/
    </style>
</head>
<body>
<nav class="navbar navbar-expand-custom navbar-mainbg">
    <a class="navbar-brand navbar-logo" href="#">Navbar</a>
    <button class="navbar-toggler" type="button" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars text-white"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
            <div class="hori-selector">
                <div class="left"></div>
                <div class="right"></div>
            </div>
            <li class="nav-item ">
                <a class="nav-link" href="dashboard.html"><i class="fas fa-tachometer-alt"></i>Dashboard</a>
            </li>
            <li class="nav-item ">
                <a class="nav-link" href="crop.html"><i class="fa fa-crop" aria-hidden="true"></i> Crop Manage</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="field.html"><i class="far fa-clone"></i>Field Manage</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="staff.html"><i class="fa fa-users" aria-hidden="true"></i>Staff Manage</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="vehicle.html"><i class="fa fa-car" aria-hidden="true"></i>Vehicle Manage</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="log.html"><i class="far fa-calendar-alt"></i>Log Manage</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="equipment.html"><i class="far fa-copy"></i>Equipment Manage</a>
            </li>
        </ul>
    </div>
</nav>
<!--search bar-->
<!--<div class="card container">
    <div class="card-header custSearchCardHeader">
        <b>Search Staff By name</b>
    </div>
    <div class="card-body">
        <div class="input-group mb-3">
            <input id="searchBox" type="search" role="combobox" class="form-control" placeholder="Search by name here ....." aria-describedby="button-addon2">
            <button class="btn btn-outline-success" type="button" >Search</button>
        </div>
        <ul id="suggestions" class="list-group"></ul>
    </div>
</div>-->

<!--crud card-->
<section id="crudCard">
    <div class="container shadow-lg p-5 rounded-4 animatedBg">
        <header >
            <h1 id="title" class="text-center">Staff Manage</h1>
            <p id="description" class="text-center">
                Please use this form to fill out your staff details.
            </p>
        </header>
        <div class="row">
            <div class="col-md-3">
                <div class="form-group">
                    <div id="AddNewStaffBtn" class="custCard work">
                        <div class="img-section">
                            <svg xmlns="http://www.w3.org/2000/svg" height="77" width="76"><path fill-rule="nonzero" fill="#3F9CBB" d="m60.91 71.846 12.314-19.892c3.317-5.36 3.78-13.818-2.31-19.908l-26.36-26.36c-4.457-4.457-12.586-6.843-19.908-2.31L4.753 15.69c-5.4 3.343-6.275 10.854-1.779 15.35a7.773 7.773 0 0 0 7.346 2.035l7.783-1.945a3.947 3.947 0 0 1 3.731 1.033l22.602 22.602c.97.97 1.367 2.4 1.033 3.732l-1.945 7.782a7.775 7.775 0 0 0 2.037 7.349c4.49 4.49 12.003 3.624 15.349-1.782Zm-24.227-46.12-1.891-1.892-1.892 1.892a2.342 2.342 0 0 1-3.312-3.312l1.892-1.892-1.892-1.891a2.342 2.342 0 0 1 3.312-3.312l1.892 1.891 1.891-1.891a2.342 2.342 0 0 1 3.312 3.312l-1.891 1.891 1.891 1.892a2.342 2.342 0 0 1-3.312 3.312Zm14.19 14.19a2.343 2.343 0 1 1 3.315-3.312 2.343 2.343 0 0 1-3.314 3.312Zm0 7.096a2.343 2.343 0 0 1 3.313-3.312 2.343 2.343 0 0 1-3.312 3.312Zm7.096-7.095a2.343 2.343 0 1 1 3.312 0 2.343 2.343 0 0 1-3.312 0Zm0 7.095a2.343 2.343 0 0 1 3.312-3.312 2.343 2.343 0 0 1-3.312 3.312Z"></path></svg>
                        </div>
                        <div class="card-desc addCard-desc">
                            <div class="card-header">
                                <div class="card-title">Add New Staff</div>
                            </div>
                            <div class="card-time"><i class="fa fa-plus-circle" aria-hidden="true"></i> </div>
<!--                            <p class="recent">Add </p>-->
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <div id="updateStaffBtn" class="custCard work">
                        <div class="img-section">
                            <svg xmlns="http://www.w3.org/2000/svg" height="77" width="76"><path fill-rule="nonzero" fill="#3F9CBB" d="m60.91 71.846 12.314-19.892c3.317-5.36 3.78-13.818-2.31-19.908l-26.36-26.36c-4.457-4.457-12.586-6.843-19.908-2.31L4.753 15.69c-5.4 3.343-6.275 10.854-1.779 15.35a7.773 7.773 0 0 0 7.346 2.035l7.783-1.945a3.947 3.947 0 0 1 3.731 1.033l22.602 22.602c.97.97 1.367 2.4 1.033 3.732l-1.945 7.782a7.775 7.775 0 0 0 2.037 7.349c4.49 4.49 12.003 3.624 15.349-1.782Zm-24.227-46.12-1.891-1.892-1.892 1.892a2.342 2.342 0 0 1-3.312-3.312l1.892-1.892-1.892-1.891a2.342 2.342 0 0 1 3.312-3.312l1.892 1.891 1.891-1.891a2.342 2.342 0 0 1 3.312 3.312l-1.891 1.891 1.891 1.892a2.342 2.342 0 0 1-3.312 3.312Zm14.19 14.19a2.343 2.343 0 1 1 3.315-3.312 2.343 2.343 0 0 1-3.314 3.312Zm0 7.096a2.343 2.343 0 0 1 3.313-3.312 2.343 2.343 0 0 1-3.312 3.312Zm7.096-7.095a2.343 2.343 0 1 1 3.312 0 2.343 2.343 0 0 1-3.312 0Zm0 7.095a2.343 2.343 0 0 1 3.312-3.312 2.343 2.343 0 0 1-3.312 3.312Z"></path></svg>
                        </div>
                        <div class="card-desc updateCard-desc">
                            <div class="card-header">
                                <div class="card-title">Update Staff</div>
<!--                                <div class="card-menu"></div>-->
                            </div>
                            <div class="card-time"><i class="fas fa-pencil-alt"></i></div>
<!--                            <p class="recent">Add </p>-->
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <div id="deleteStaffBtn" class="custCard work">
                        <div class="img-section">
                            <svg xmlns="http://www.w3.org/2000/svg" height="77" width="76"><path fill-rule="nonzero" fill="#3F9CBB" d="m60.91 71.846 12.314-19.892c3.317-5.36 3.78-13.818-2.31-19.908l-26.36-26.36c-4.457-4.457-12.586-6.843-19.908-2.31L4.753 15.69c-5.4 3.343-6.275 10.854-1.779 15.35a7.773 7.773 0 0 0 7.346 2.035l7.783-1.945a3.947 3.947 0 0 1 3.731 1.033l22.602 22.602c.97.97 1.367 2.4 1.033 3.732l-1.945 7.782a7.775 7.775 0 0 0 2.037 7.349c4.49 4.49 12.003 3.624 15.349-1.782Zm-24.227-46.12-1.891-1.892-1.892 1.892a2.342 2.342 0 0 1-3.312-3.312l1.892-1.892-1.892-1.891a2.342 2.342 0 0 1 3.312-3.312l1.892 1.891 1.891-1.891a2.342 2.342 0 0 1 3.312 3.312l-1.891 1.891 1.891 1.892a2.342 2.342 0 0 1-3.312 3.312Zm14.19 14.19a2.343 2.343 0 1 1 3.315-3.312 2.343 2.343 0 0 1-3.314 3.312Zm0 7.096a2.343 2.343 0 0 1 3.313-3.312 2.343 2.343 0 0 1-3.312 3.312Zm7.096-7.095a2.343 2.343 0 1 1 3.312 0 2.343 2.343 0 0 1-3.312 0Zm0 7.095a2.343 2.343 0 0 1 3.312-3.312 2.343 2.343 0 0 1-3.312 3.312Z"></path></svg>
                        </div>
                        <div class="card-desc deleteCard-desc">
                            <div class="card-header">
                                <div class="card-title">Delete Staff</div>
                            </div>
                            <div class="card-time"><i class="far fa-trash-alt"></i></div>
<!--                            <p class="recent">Add </p>-->
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="form-group">
                    <div id="searchStaffBtn" class="custCard work from-blue-400 to-blue-600">
                        <div class="img-section">
                            <svg xmlns="http://www.w3.org/2000/svg" height="77" width="76"><path fill-rule="nonzero" fill="#3F9CBB" d="m60.91 71.846 12.314-19.892c3.317-5.36 3.78-13.818-2.31-19.908l-26.36-26.36c-4.457-4.457-12.586-6.843-19.908-2.31L4.753 15.69c-5.4 3.343-6.275 10.854-1.779 15.35a7.773 7.773 0 0 0 7.346 2.035l7.783-1.945a3.947 3.947 0 0 1 3.731 1.033l22.602 22.602c.97.97 1.367 2.4 1.033 3.732l-1.945 7.782a7.775 7.775 0 0 0 2.037 7.349c4.49 4.49 12.003 3.624 15.349-1.782Zm-24.227-46.12-1.891-1.892-1.892 1.892a2.342 2.342 0 0 1-3.312-3.312l1.892-1.892-1.892-1.891a2.342 2.342 0 0 1 3.312-3.312l1.892 1.891 1.891-1.891a2.342 2.342 0 0 1 3.312 3.312l-1.891 1.891 1.891 1.892a2.342 2.342 0 0 1-3.312 3.312Zm14.19 14.19a2.343 2.343 0 1 1 3.315-3.312 2.343 2.343 0 0 1-3.314 3.312Zm0 7.096a2.343 2.343 0 0 1 3.313-3.312 2.343 2.343 0 0 1-3.312 3.312Zm7.096-7.095a2.343 2.343 0 1 1 3.312 0 2.343 2.343 0 0 1-3.312 0Zm0 7.095a2.343 2.343 0 0 1 3.312-3.312 2.343 2.343 0 0 1-3.312 3.312Z"></path></svg>
                        </div>
                        <div class="card-desc searchCard-desc">
                            <div class="card-header">
                                <div class="card-title">Search Staff</div>
                                <div class="card-menu"></div>
                            </div>
                            <div class="card-time"><i class="fa fa-search" aria-hidden="true"></i> </div>
<!--                            <p class="recent">Add </p>-->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!--staff model-->
<div class="modal fade" id="staffModel" tabindex="-1" role="dialog" aria-labelledby="staffModelLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
        <!-- Modal content -->
        <div class="modal-content " style="z-index: -2">
            <div class="modal-header custModalHeader">
                <h5 class="modal-title" id="staffModelLabel">Add New Staff</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="container">
                    <div class="form-wrap-staff">
                    <!--search bar-->
                    <div id="custSearchCardBody" class="card">
                        <div class="card-header custSearchCardHeader">
                            <b>Search Staff By name</b>
                        </div>
                        <div class="card-body">
                            <div class="input-group mb-3">
                                <input id="searchBox" type="search" role="combobox" class="form-control" placeholder="Search by name here ....." aria-describedby="button-addon2">
                                <button id="searchBtn" class="btn btn-outline-success" type="button" >Search</button>
                            </div>
                            <ul id="suggestions" class="list-group"></ul>
                        </div>
                    </div>
<!--                    <div class="form-wrap">-->
                    <form id="survey-form">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="firstNameTxt">First Name</label>
                                    <input type="text" name="firstName" id="firstNameTxt" placeholder="Enter First Name" class="form-control" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label id="Sc-name-label" for="lastNameTxt">Last Name</label>
                                    <input type="text" name="lastName" id="lastNameTxt" placeholder="Enter Last Name" class="form-control" required>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="emailTxt">Email</label>
                                    <input type="email" name="email" id="emailTxt" placeholder="Enter Email" class="form-control" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label id="contactNo-label" for="contactNoTxt">Contact No</label>
                                    <input type="tel" name="contactNo" id="contactNoTxt" placeholder="Enter Contact No" class="form-control" required>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="dateOfBirthTxt">Date of Birth</label>
                                    <input type="date" id="dateOfBirthTxt" class="form-control" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="dateOfJoiningTxt">Date of Joining</label>
                                    <input type="date" id="dateOfJoiningTxt" class="form-control" required>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group ">
                                    <label for="inputAD1">Address</label>
                                    <input type="text" class="form-control" id="inputAD1" placeholder="No-">
                                    <input type="text" class="form-control" id="inputAD5" placeholder="Postal code">
                                    <input type="text" class="form-control" id="inputAD2" placeholder="lane">
                                    <input type="text" class="form-control" id="inputAD4" placeholder="State">
                                    <input type="text" class="form-control" id="inputAD3" placeholder="City">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="genderDropdown">Gender</label>
                                    <select id="genderDropdown" name="gender" class="form-control" required>
                                        <option value=""  disabled selected hidden>Select Gender</option>
                                        <option value="MALE">MALE</option>
                                        <option value="FEMALE">FEMALE</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="dropdownDesignation">Designation</label>
                                    <select id="dropdownDesignation" name="category" class="form-control" required>
                                        <option value=""  disabled selected hidden>Select Designation</option>
                                        <option value="MANAGER">MANAGER</option>
                                        <option value="SENIOR_ASSISTANT_MANAGER">SENIOR_ASSISTANT_MANAGER</option>
                                        <option value="ASSISTANT_MANAGER">ASSISTANT_MANAGER</option>
                                        <option value="ADMIN_AND_HR_STAFF">ADMIN_AND_HR_STAFF</option>
                                        <option value="OFFICE_ASSISTANT">OFFICE_ASSISTANT</option>
                                        <option value="SENIOR_AGRONOMIST">SENIOR_AGRONOMIST</option>
                                        <option value="AGRONOMIST">AGRONOMIST</option>
                                        <option value="SOIL_SCIENTIST">SOIL_SCIENTIST</option>
                                        <option value="SENIOR_TECHNICIAN">SENIOR_TECHNICIAN</option>
                                        <option value="TECHNICIAN">TECHNICIAN</option>
                                        <option value="SUPERVISORS">SUPERVISORS</option>
                                        <option value="LABORS">LABORS</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="roleDropdown">Role</label>
                                    <select id="roleDropdown" name="role" class="form-control" required>
                                        <option value=""  disabled selected hidden>Select Role</option>
                                        <option value="MANAGER">MANAGER</option>
                                        <option value="ADMINISTRATIVE">ADMINISTRATIVE</option>
                                        <option value="SCIENTIST">SCIENTIST</option>
                                        <option value="OTHER">OTHER</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <!--<div class="col-md-6">
                                <div class="form-group ">
                                    <label for="inputAD1">Address</label>
                                    <input type="text" class="form-control" id="inputAD1" placeholder="No-">
                                    <input type="text" class="form-control" id="inputAD5" placeholder="Postal code">
                                    <input type="text" class="form-control" id="inputAD2" placeholder="lane">
                                    <input type="text" class="form-control" id="inputAD4" placeholder="State">
                                    <input type="text" class="form-control" id="inputAD3" placeholder="City">
                                </div>
                            </div>-->
                        </div>
                     <!--   <div id="staffSelectCard" class="row">
                            <h4 class="text-center text-black-50"><b>Select Staff here..</b></h4>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="dropdownStaffName">Staff Name</label>
                                    <select id="dropdownStaffName" name="staffName" class="form-control" required>
                                        <option value=""  disabled selected hidden>Select Staff Name</option>
                                        <option value="kamal">kamal</option>
                                        <option value="ranil">ranil</option>
                                        <option value="nimal">nimal</option>
                                        <option value="sahan">sahan</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label  for="lastName">Last Name</label>
                                    <input type="text" name="lastName" id="lastName" placeholder="Last Name" class="form-control" disabled>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="contactNo">Contact No</label>
                                    <input type="text" name="contactNo" id="contactNo" placeholder="Contact No" class="form-control" disabled>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="designation">Designation</label>
                                    <input type="text" name="designation" id="designation" placeholder="Designation" class="form-control" disabled>
                                </div>
                            </div>
                        </div>-->
                    </form>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" id="btnSave" class="btn btn-primary btn-block">Save</button>
                <button type="button" id="btnClear" class="btn btn-secondary btn-block">Clear</button>
                <button type="button" id="btnClose" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!--status card-->
<section class="statistics text-center mb-4">
        <div class="data">
            <div class="container">
                <h2 class="h1">Our Main Statistics</h2>
                <div class="row">
                    <div class="col-md-3 col-sm-6">
                        <div class="stats">
                            <i class="fa fa-users fa-5x"></i>
                            <p>3,290</p>
                            <span>Satisfied Users</span>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6">
                        <div class="stats">
                            <i class="fa fa-comments fa-5x"></i>
                            <p>12,000</p>
                            <span>Posted Comments</span>
                        </div>
                    </div>

                    <div class="col-md-3 col-sm-6">
                        <div class="stats">
                            <i class="fa fa-comments fa-5x"></i>
                            <p>22,600</p>
                            <span>Ticket Archived</span>
                        </div>
                    </div>
                    <div class="col-md-3 col-sm-6">
                        <div class="stats">
                            <i class="fa fa-users fa-5x"></i>
                            <p>3,290</p>
                            <span>Satisfied Users</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

<section id="staffTblCard">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <table id="staffTbl" class="table">
                    <thead>
                    <tr>
                        <th scope="col">First Name</th>
                        <th scope="col">Last Name</th>
                        <th scope="col">Email</th>
                        <th scope="col">Designation</th>
                        <th scope="col">Gender</th>
                        <th scope="col">Joined date</th>
                        <th scope="col">DOB</th>
                        <th scope="col">Address</th>
                        <th scope="col">Contact No</th>
                        <th scope="col">Role</th>
                    </tr>
                    </thead>
                    <tbody id="staffTable-body">
                    <!--<tr>
                        <td id="">kamal</td>
                        <td id=" ">santha</td>
                        <td id="  ">kamal@123</td>
                        <td id="   ">Manager</td>
                        <td id="    ">Male</td>
                        <td id="     ">01-01-2002</td>
                        <td id="      ">01-01-1962</td>
                        <td id="       ">no1, street, city</td>
                        <td id="        ">1234567890</td>
                        <td id="         ">Manager</td>
                    </tr>
                    <tr>
                        <td id="1">kamal</td>
                        <td id="2 ">santha</td>
                        <td id=" 3 ">kamal@123</td>
                        <td id=" 4  ">Manager</td>
                        <td id="   5 ">Male</td>
                        <td id="  6   ">01-01-2019</td>
                        <td id="  7   ">01-01-1972</td>
                        <td id="  8   ">no1, street, city</td>
                        <td id="  9   ">1234567890</td>
                        <td id="  10   ">Manager</td>
                    </tr>-->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>
<footer>
    <p>© 2023 GreenShadow. All rights reserved.</p>
</footer>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="../js/pageMain.js"></script>
<script src="https://cdn.jsdelivr.net/npm/izitoast/dist/js/iziToast.min.js"></script>
<script>
    $(document).ready(function () {
        loadSearchBar();
        loadTable();
        // AddNewStaffBtn on click
        $(document).on("click","#AddNewStaffBtn",function(){
            $("#staffModel").modal("toggle");
            $("#staffModelLabel").text("Add New Staff Details");
            $(".custModalHeader").css("background", "linear-gradient(to right, #4389c8, #356e9d)");
            $("#custSearchCardBody").css("display", "none");
            $("#btnSave").text("Save");
            $("#btnClear").text("Clear");
            $("#btnSave, #btnClose").css("display", "flex");
            $("#btnSave").addClass("btn-primary");
            $("#btnSave").removeClass("btn-warning");
            $("#btnSave").removeClass("btn-danger");



        })
        // updateStaffBtn on click
        $(document).on("click","#updateStaffBtn",function(){
            $("#staffModel").modal("toggle");
            $("#staffModelLabel").text("Update Staff Details");
            $("#btnSave").text("Update");
            $("#btnClear").text("Clear");
            $(".custModalHeader").css("background", "linear-gradient(to right, #f1b44d, #d69438)");
            $(".custSearchCardHeader").css("background", "linear-gradient(to right, #f1b44d, #d69438)");
            $("#custSearchCardBody").css("display", "flex");
            $("#btnSave ,#btnClose").css("display", "flex");
            $("#btnSave").addClass("btn-warning");
            $("#btnSave").removeClass("btn-danger");
            $("#btnSave").removeClass("btn-primary");


        })
        // deleteStaffBtn on click
        $(document).on("click","#deleteStaffBtn",function(){
            $("#staffModel").modal("toggle");
            $("#staffModelLabel").text("Delete Staff Details");
            $(".custModalHeader").css("background", "linear-gradient(to right, #f36a6a, #d33f3f)");
            $(".custSearchCardHeader").css("background", "linear-gradient(to right, #f36a6a, #d33f3f)");
            $("#custSearchCardBody").css("display", "flex");
            $("#btnSave").text("Delete");
            $("#btnClear").text("Cancel");
            $("#btnSave").css("display", "flex");
            $("#btnClose").css("display", "none");
            $("#btnSave").addClass("btn-danger");
            $("#btnSave").removeClass("btn-warning");
            $("#btnSave").removeClass("btn-primary");

        })
        // searchStaffBtn on click
        $(document).on("click","#searchStaffBtn",function(){
            $("#staffModel").modal("toggle");
            $("#staffModelLabel").text("Search Staff Details");
            $(".custModalHeader").css("background", "linear-gradient(to right, #5cb385, #4b946e)");
            $(".custSearchCardHeader").css("background", "linear-gradient(to right, #5cb385, #4b946e)");
            $("#custSearchCardBody , #btnClose").css("display", "flex");
            $("#btnSave").css("display", "none");
            $("#btnClear").text("Clear");


        })

        function loadSearchBar() {
            let staffArray = [];
            let token = localStorage.getItem("token");
            $.ajax({
                method:"GET",
                headers: {"Authorization": "Bearer " + token},
                contentType:"application/json",
                url:"http://localhost:5050/CropMonitoringSystem/api/v1/staff/getAllStaff",
                async:true,
                success:function (data){
                    let staffNames = [];
                    staffArray=data;
                    for (let i = 0; i < staffArray.length; i++) {
                        staffNames[i] = staffArray[i].firstName
                    }
                    // search bar suggestions
                    $("#searchBox").on("input", function () {
                        const query = $(this).val().toLowerCase();
                        const $suggestions = $("#suggestions");
                        $suggestions.empty(); // Clear previous suggestions

                        if (query) {
                            // Filter staff names
                            const matches = staffNames.filter(name => name.toLowerCase().includes(query));
                            matches.forEach(match => {
                                const $li = $("<li>")
                                    .text(match)
                                    .addClass("list-group-item")
                                    .css("cursor", "pointer")
                                    .on("click", function () {
                                        $("#searchBox").val(match); // Set input value
                                        $suggestions.empty(); // Clear suggestions
                                    });

                                $suggestions.append($li);
                            });
                        }
                    });

                },
                error:function (){
                    alert("Error")
                }
            });
        }

        // Hide suggestions when clicking outside
        $(document).on("click", function (e) {
            if (!$(e.target).closest("#searchBox, #suggestions").length) {
                $("#suggestions").empty();
            }
        });

        $('#btnSave').on('click', () => {
            let btnText = $('#btnSave').text();
            var firstNameTxt = $('#firstNameTxt').val();
            var lastNameTxt = $('#lastNameTxt').val();
            var emailTxt = $('#emailTxt').val();
            var contactNoTxt = $('#contactNoTxt').val();
            var dateOfBirthTxt = $('#dateOfBirthTxt').val();
            var dateOfJoiningTxt = $('#dateOfJoiningTxt').val();
            var inputAD1 = $('#inputAD1').val();
            var inputAD5 = $('#inputAD5').val();
            var inputAD2 = $('#inputAD2').val();
            var inputAD4 = $('#inputAD4').val();
            var inputAD3 = $('#inputAD3').val();
            var genderDropdown = $('#genderDropdown').val();
            var dropdownDesignation = $('#dropdownDesignation').val();
            var roleDropdown = $('#roleDropdown').val();
            if (btnText === "Save") {
                let token = localStorage.getItem("token");
                $.ajax({
                    method: "POST",
                    headers: {"Authorization": "Bearer " + token},
                    contentType: "application/json",
                    url: "http://localhost:5050/CropMonitoringSystem/api/v1/staff",
                    async: true,
                    data: JSON.stringify({
                        "firstName": firstNameTxt,
                        "lastName": lastNameTxt,
                        "designation": dropdownDesignation,
                        "gender": genderDropdown,
                        "joinedDate": dateOfJoiningTxt,
                        "dob": dateOfBirthTxt,
                        "address1": inputAD1,
                        "address2": inputAD2,
                        "address3": inputAD3,
                        "address4": inputAD4,
                        "address5": inputAD5,
                        "contactNo": contactNoTxt,
                        "email": emailTxt,
                        "role": roleDropdown
                    }),
                    success: function (data) {
                        loadTable();
                        clearInputs();
                        iziToast.success({
                            title: 'Success!',
                            message: 'Staff has been Saved successfully..!',
                            position: 'bottomRight',
                            timeout: 5000,
                            progressBar: true,
                            class: 'custom-iziToast',
                        });
                    },
                    error: function () {
                        iziToast.error({
                            title: 'Error!',
                            message: 'Staff not saved ..!',
                            position: 'bottomRight',
                            timeout: 5000,
                            progressBar: true,
                            class: 'custom-iziToast',
                        });
                    }
                })
            }else if(btnText === "Update"){
                getStaffIdByName(firstNameTxt, function (staff_code) {
                    if (staff_code) {
                        let token = localStorage.getItem("token");
                        $.ajax({
                            method: "PUT",
                            headers: {"Authorization": "Bearer " + token},
                            contentType: "application/json",
                            url: "http://localhost:5050/CropMonitoringSystem/api/v1/staff/" + staff_code,
                            async: true,
                            data: JSON.stringify({
                                "firstName": firstNameTxt,
                                "lastName": lastNameTxt,
                                "designation": dropdownDesignation,
                                "gender": genderDropdown,
                                "joinedDate": dateOfJoiningTxt,
                                "dob": dateOfBirthTxt,
                                "address1": inputAD1,
                                "address2": inputAD2,
                                "address3": inputAD3,
                                "address4": inputAD4,
                                "address5": inputAD5,
                                "contactNo": contactNoTxt,
                                "email": emailTxt,
                                "role": roleDropdown
                            }),
                            success: function (data) {
                                loadTable();
                                clearInputs();
                                iziToast.success({
                                    title: 'Success!',
                                    message: 'Staff has been Updated successfully..!',
                                    position: 'bottomRight',
                                    timeout: 5000,
                                    progressBar: true,
                                    class: 'custom-iziToast',
                                });
                            },
                            error: function () {
                                iziToast.error({
                                    title: 'Error!',
                                    message: 'Staff not updated ..!',
                                    position: 'bottomRight',
                                    timeout: 5000,
                                    progressBar: true,
                                });
                            }

                        })
                    } else {
                        alert("Error Staff no found");
                    }
                });
            }else {
                iziToast.show({
                    title: 'Do you want to delete this staff ?',
                    message: 'Click the button below to confirm.',
                    position: 'topCenter',
                    class: 'custom-iziToast-btn',
                    timeout: false, // Stays on screen until user interacts
                    buttons: [
                        ['<button>Confirm</button>', function (instance, toast) {

                            getStaffIdByName(firstNameTxt, function (staffId) {
                                if(staffId){
                                    let token = localStorage.getItem("token");
                                    $.ajax({
                                        method:"PUT",
                                        headers: {"Authorization": "Bearer " + token},
                                        contentType:"application/json",
                                        url:"http://localhost:5050/CropMonitoringSystem/api/v1/staff/" + staffId,
                                        async:true,
                                        success:function (data){
                                            loadTable();
                                            clearInputs();
                                            iziToast.success({
                                                title: 'Success!',
                                                message: 'Staff has been Deleted successfully..!',
                                                position: 'bottomRight',
                                                timeout: 5000,
                                                progressBar: true,
                                                class: 'custom-iziToast',
                                            });
                                        },
                                        error:function (){
                                            iziToast.error({
                                                title: 'Error!',
                                                message: 'Staff not Deleted ..!',
                                                position: 'bottomRight',
                                                timeout: 5000,
                                                progressBar: true,
                                                class: 'custom-iziToast',
                                            });
                                        }
                                    })
                                }else {
                                    alert("Error Staff no found");
                                }
                            });
                            instance.hide({ transitionOut: 'fadeOut' }, toast);
                        }],
                        ['<button>Cancel</button>', function (instance, toast) {
                            instance.hide({ transitionOut: 'fadeOut' }, toast);
                        }]
                    ]
                });
            }
        })

        $('#searchBtn').on('click', () => {
            var staffName = $('#searchBox').val();
            let token = localStorage.getItem("token");
            $.ajax({
                method: "GET",
                headers: {"Authorization": "Bearer " + token},
                contentType: "application/json",
                url: "http://localhost:5050/CropMonitoringSystem/api/v1/staff/" + staffName,
                async: true,
                success: function (data) {
                    loadInputs(data);
                    $('#searchBox').val("");
                },
                error: function () {
                    alert("Error: Staff not found");
                }
            });
        })
        function loadInputs(data) {

            let dateTimeValue = data.dob;
            let dateDob = dateTimeValue.split('T')[0];

            let dateTimeValue2 = data.joinedDate;
            let dateJoin = dateTimeValue2.split('T')[0];
            $('#firstNameTxt').val(data.firstName);
            $('#lastNameTxt').val(data.lastName);
            $('#emailTxt').val(data.email);
            $('#contactNoTxt').val(data.contactNo);
            $('#dateOfBirthTxt').val(dateDob);
            $('#dateOfJoiningTxt').val(dateJoin);
            $('#inputAD1').val(data.address1);
            $('#inputAD5').val(data.address5);
            $('#inputAD2').val(data.address2);
            $('#inputAD4').val(data.address4);
            $('#inputAD3').val(data.address3);
            $('#genderDropdown').val(data.gender);
            $('#dropdownDesignation').val(data.designation);
            $('#roleDropdown').val(data.role);
        }


            function getStaffIdByName(staffName, callback) {
                let staffId = null;
                let token = localStorage.getItem("token");
                $.ajax({
                    method: "GET",
                    headers: {"Authorization": "Bearer " + token},
                    contentType: "application/json",
                    url: "http://localhost:5050/CropMonitoringSystem/api/v1/staff/" + staffName,
                    async: true,
                    success: function (data) {
                        staffId = data.id;
                        callback(staffId);
                    },
                    error: function () {
                        alert("Error: Staff not found");
                    }
                });

            }
        function loadTable() {
            $('#staffTable-body').empty();
            let token = localStorage.getItem("token");
            $.ajax({
                method:"GET",
                headers: {"Authorization": "Bearer " + token},
                contentType:"application/json",
                url:"http://localhost:5050/CropMonitoringSystem/api/v1/staff/getAllStaff",
                async:true,
                success:function (data){
                    // sort to setOrderBy tempId
                    data.map((item,index) =>{
                        let dateTimeValue = item.dob;
                        let dateDob = dateTimeValue.split('T')[0];

                        let dateTimeValue2 = item.joinedDate;
                        let dateJoin = dateTimeValue2.split('T')[0];
                        var record=`<tr>

            <td id="firstNameValue">${item.firstName}</td>
            <td id="lastNameValue">${item.lastName}</td>
            <td id="emailValue">${item.email}</td>
            <td id="designationValue">${item.designation}</td>
            <td id="genderValue">${item.gender}</td>
            <td id="joinedDateValue">${dateJoin}</td>
            <td id="dobValue">${dateDob}</td>

            <td id="addressValue">
                <ul>
                <li>${item.address1}</li>
                <li>${item.address2}</li>
                <li>${item.address3}</li>
                <li>${item.address4}</li>
                <li>${item.address5}</li>
                </ul>
            </td>
            <td id="contactNoValue">${item.contactNo}</td>
            <td id="roleValue">${item.role}</td>
        </tr>`
                        $('#staffTable-body').append(record);
                    });
                },
                error:function (){
                    alert("Error from load table staff")
                }
            });
        }
        $('#btnClear').on('click', () => {
            let btnText = $('#btnClear').text();
            clearInputs();
            if (btnText === "Cancel") {
                $('#clearBtn').text("Clear");
                $("#staffModel").modal("hide");
            }
        })
        function clearInputs() {
            $('#firstNameTxt').val("");
            $('#lastNameTxt').val("");
            $('#emailTxt').val("");
            $('#contactNoTxt').val("");
                $('#dateOfBirthTxt').val("");
                $('#dateOfJoiningTxt').val("");
                $('#inputAD1').val("");
                $('#inputAD5').val("");
                $('#inputAD2').val("");
                $('#inputAD4').val("");
                $('#inputAD3').val("");
                $('#genderDropdown').val("");
                $('#dropdownDesignation').val("");
                $('#roleDropdown').val("");
        }

    });

</script>
</body>
</html>
